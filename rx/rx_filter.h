/*
--------------------------------------------------------------------------------
This library is free software; you can redistribute it and/or
modify it under the terms of the GNU Library General Public
License as published by the Free Software Foundation; either
version 2 of the License, or (at your option) any later version.
This library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Library General Public License for more details.
You should have received a copy of the GNU Library General Public
License along with this library; if not, write to the
Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
Boston, MA  02110-1301, USA.
--------------------------------------------------------------------------------
*/

// Copyright (c) 2023 John Seamons, ZL/KF6VO

#pragma once

CFastFIR m_PassbandFIR[MAX_RX_CHANS];
CFastFIR m_chan_null_FIR[MAX_RX_CHANS];

CFir m_AM_FIR[MAX_RX_CHANS];

CFir m_nfm_deemp_FIR[MAX_RX_CHANS];     // see: tools/FIR.m
CFir m_am_ssb_deemp_FIR[MAX_RX_CHANS];

CIir m_deemp_Biquad[MAX_RX_CHANS];      // see: tools/biquad.MZT.m

#define N_NFM_DEEMP 2
#define N_NFM_DEEMP_TAPS 79

const float nfm_deemp_12000[N_NFM_DEEMP][N_NFM_DEEMP_TAPS] = {
    {
        // -LF  mkdeemph(12000,0)
        0.00015246, 0.00103679, 0.00221632, 0.00344645, 0.00473326, 0.00581523, 0.00695241, 0.00778999, 0.00858104, 0.00913903, 0.00980544, 0.0101747, 0.0103857, 0.00994438, 0.00927719, 0.0077545, 0.00573561, 0.00309324, 0.000525832, -0.00287742, -0.00628006, -0.0101272, -0.0137838, -0.0181849, -0.0218698, -0.0256865, -0.0282191, -0.0314149, -0.0333455, -0.0352054, -0.034748, -0.0357649, -0.0312609, -0.0246811, -0.0127441, -0.00557271, 0.0189713, 0.0320241, 0.116816, 0.224603, 0.116816, 0.0320241, 0.0189713, -0.00557271, -0.0127441, -0.0246811, -0.0312609, -0.0357649, -0.034748, -0.0352054, -0.0333455, -0.0314149, -0.0282191, -0.0256865, -0.0218698, -0.0181849, -0.0137838, -0.0101272, -0.00628006, -0.00287742, 0.000525832, 0.00309324, 0.00573561, 0.0077545, 0.00927719, 0.00994438, 0.0103857, 0.0101747, 0.00980544, 0.00913903, 0.00858104, 0.00778999, 0.00695241, 0.00581523, 0.00473326, 0.00344645, 0.00221632, 0.00103679, 0.00015246
    },
    {
        // +LF  mkdeemph(12000,1)
        -0.000459789, -0.0003197, 2.7509e-05, 0.000371541, 0.000738867, 0.000910811, 0.00115652, 0.00117635, 0.00123747, 0.00119974, 0.00141404, 0.00153646, 0.00172765, 0.00155754, 0.00144818, 0.000835966, 7.11905e-05, -0.000953815, -0.0015858, -0.0026738, -0.00345037, -0.00434623, -0.0047958, -0.00569918, -0.00573705, -0.00574145, -0.00444564, -0.0037127, -0.00180713, 0.000102477, 0.00404422, 0.006436, 0.013721, 0.022644, 0.0362045, 0.0449519, 0.0694204, 0.0827584, 0.162284, 0.26269, 0.162284, 0.0827584, 0.0694204, 0.0449519, 0.0362045, 0.022644, 0.013721, 0.006436, 0.00404422, 0.000102477, -0.00180713, -0.0037127, -0.00444564, -0.00574145, -0.00573705, -0.00569918, -0.0047958, -0.00434623, -0.00345037, -0.0026738, -0.0015858, -0.000953815, 7.11905e-05, 0.000835966, 0.00144818, 0.00155754, 0.00172765, 0.00153646, 0.00141404, 0.00119974, 0.00123747, 0.00117635, 0.00115652, 0.000910811, 0.000738867, 0.000371541, 2.7509e-05, -0.0003197, -0.000459789
    }
};

const float nfm_deemp_20250[N_NFM_DEEMP][N_NFM_DEEMP_TAPS] = {
    {
        // -LF  mkdeemph(20250,0)
        -0.00398869, -0.00301176, -0.00201626, -0.000889947, 0.000239183, 0.00153214, 0.00285829, 0.00435428, 0.00579705, 0.0073212, 0.00876064, 0.0103854, 0.012, 0.0137441, 0.0152129, 0.0165984, 0.0176808, 0.0189229, 0.0200268, 0.0212632, 0.0220502, 0.0228004, 0.02309, 0.0235976, 0.0236374, 0.0237587, 0.022874, 0.0217329, 0.0190172, 0.0160253, 0.011367, 0.00754856, 0.00241381, -0.0013142, -0.00970596, -0.0184976, -0.0382041, -0.0499354, -0.107179, -0.176825, -0.107179, -0.0499354, -0.0382041, -0.0184976, -0.00970596, -0.0013142, 0.00241381, 0.00754856, 0.011367, 0.0160253, 0.0190172, 0.0217329, 0.022874, 0.0237587, 0.0236374, 0.0235976, 0.02309, 0.0228004, 0.0220502, 0.0212632, 0.0200268, 0.0189229, 0.0176808, 0.0165984, 0.0152129, 0.0137441, 0.012, 0.0103854, 0.00876064, 0.0073212, 0.00579705, 0.00435428, 0.00285829, 0.00153214, 0.000239183, -0.000889947, -0.00201626, -0.00301176, -0.00398869
    },
    {
        // +LF  mkdeemph(20250,1)
        -8.62377e-05, 0.000245625, 0.000526684, 0.000847395, 0.00110449, 0.00142883, 0.00171609, 0.00207845, 0.0023379, 0.00260606, 0.00275197, 0.00299778, 0.00318966, 0.00344542, 0.00344288, 0.00334284, 0.00297361, 0.0027156, 0.00233446, 0.00205587, 0.00141627, 0.000756486, -0.000259083, -0.00107458, -0.00223721, -0.00329587, -0.00512278, -0.0071052, -0.0103023, -0.013658, -0.0182907, -0.0221687, -0.02703, -0.0306689, -0.0379887, -0.0455391, -0.0618174, -0.071551, -0.117977, -0.174329, -0.117977, -0.071551, -0.0618174, -0.0455391, -0.0379887, -0.0306689, -0.02703, -0.0221687, -0.0182907, -0.013658, -0.0103023, -0.0071052, -0.00512278, -0.00329587, -0.00223721, -0.00107458, -0.000259083, 0.000756486, 0.00141627, 0.00205587, 0.00233446, 0.0027156, 0.00297361, 0.00334284, 0.00344288, 0.00344542, 0.00318966, 0.00299778, 0.00275197, 0.00260606, 0.0023379, 0.00207845, 0.00171609, 0.00142883, 0.00110449, 0.000847395, 0.000526684, 0.000245625, -8.62377e-05
    }
};

const float am_ssb_deemp_12000[N_NFM_DEEMP][N_NFM_DEEMP_TAPS] = {
    {
        // 75 uS  mkdeemph(12000,2)
        5.68002e-05, 6.38298e-05, 0.000105638, -4.16972e-19, 0.000118056, 7.97321e-05, 7.93326e-05, -9.06813e-07, 2.28207e-05, 1.2226e-05, 2.6077e-05, -1.18441e-06, 0.000118509, 0.000136347, 0.000231389, -1.01413e-19, 0.000273381, 0.000190434, 0.000195903, -2.32144e-06, 6.07499e-05, 3.3961e-05, 7.58849e-05, -3.62725e-06, 0.00038397, 0.000470256, 0.00085573, -2.71685e-18, 0.00119519, 0.000921703, 0.00106658, -1.4509e-05, 0.000447566, 0.000305649, 0.000877229, -5.8036e-05, 0.00959924, 0.0230426, 0.144618, 0.715581, 0.144618, 0.0230426, 0.00959924, -5.8036e-05, 0.000877229, 0.000305649, 0.000447566, -1.4509e-05, 0.00106658, 0.000921703, 0.00119519, -2.71685e-18, 0.00085573, 0.000470256, 0.00038397, -3.62725e-06, 7.58849e-05, 3.3961e-05, 6.07499e-05, -2.32144e-06, 0.000195903, 0.000190434, 0.000273381, -1.01413e-19, 0.000231389, 0.000136347, 0.000118509, -1.18441e-06, 2.6077e-05, 1.2226e-05, 2.28207e-05, -9.06813e-07, 7.93326e-05, 7.97321e-05, 0.000118056, -4.16972e-19, 0.000105638, 6.38298e-05, 5.68002e-05
    },
    {
        // 50 uS  mkdeemph(12000,3)
        3.32352e-05, 9.2836e-06, 8.14013e-05, -3.7816e-19, 9.09701e-05, 1.15965e-05, 4.64195e-05, -2.46029e-05, 4.20079e-05, -3.2915e-05, 4.80019e-05, -3.21343e-05, 6.93426e-05, 1.98307e-05, 0.000178301, -3.50453e-19, 0.000210659, 2.76974e-05, 0.000114628, -6.29833e-05, 0.000111827, -9.14306e-05, 0.000139687, -9.84114e-05, 0.00022467, 6.83955e-05, 0.000659399, -1.9006e-18, 0.000920979, 0.000134055, 0.000624084, -0.000393646, 0.000823869, -0.000822876, 0.00161478, -0.00157458, 0.00561675, 0.00335138, 0.111438, 0.822065, 0.111438, 0.00335138, 0.00561675, -0.00157458, 0.00161478, -0.000822876, 0.000823869, -0.000393646, 0.000624084, 0.000134055, 0.000920979, -1.9006e-18, 0.000659399, 6.83955e-05, 0.00022467, -9.84114e-05, 0.000139687, -9.14306e-05, 0.000111827, -6.29833e-05, 0.000114628, 2.76974e-05, 0.000210659, -3.50453e-19, 0.000178301, 1.98307e-05, 6.93426e-05, -3.21343e-05, 4.80019e-05, -3.2915e-05, 4.20079e-05, -2.46029e-05, 4.64195e-05, 1.15965e-05, 9.09701e-05, -3.7816e-19, 8.14013e-05, 9.2836e-06, 3.32352e-05
    }
};

const float am_ssb_deemp_20250[N_NFM_DEEMP][N_NFM_DEEMP_TAPS] = {
    {
        // 75 uS  mkdeemph(20250,2)
        -0.000138825, -0.00013832, -0.000145305, -8.41301e-05, -7.75014e-05, -3.83089e-05, -1.31859e-05, 1.98759e-05, -6.19164e-05, -4.52602e-05, -2.26139e-05, 3.04478e-05, -8.16097e-05, -9.38793e-05, -0.000193842, -0.000276138, -0.000418412, -0.000413244, -0.000232704, -2.39381e-05, -0.000505114, -0.000633467, -0.00071802, -0.000496042, -0.000443712, -0.000275217, -0.000166635, 0.000187826, -0.000385997, -0.000459213, -0.000401824, 0.000443015, -0.000897255, -0.00166539, -0.00433441, -0.00901798, -0.023839, -0.0516351, -0.144354, -0.556974, -0.144354, -0.0516351, -0.023839, -0.00901798, -0.00433441, -0.00166539, -0.000897255, 0.000443015, -0.000401824, -0.000459213, -0.000385997, 0.000187826, -0.000166635, -0.000275217, -0.000443712, -0.000496042, -0.00071802, -0.000633467, -0.000505114, -2.39381e-05, -0.000232704, -0.000413244, -0.000418412, -0.000276138, -0.000193842, -9.38793e-05, -8.16097e-05, 3.04478e-05, -2.26139e-05, -4.52602e-05, -6.19164e-05, 1.98759e-05, -1.31859e-05, -3.83089e-05, -7.75014e-05, -8.41301e-05, -0.000145305, -0.00013832, -0.000138825
    },
    {
        // 50 uS  mkdeemph(20250,3)
        -0.000109826, -5.89333e-05, -6.48392e-05, -1.37353e-05, -3.95779e-05, 1.01952e-05, -2.84602e-05, 1.95224e-06, -2.3284e-05, 1.49187e-05, -3.5232e-05, 2.90319e-07, -2.86092e-05, -1.28894e-05, -8.03507e-05, -7.65039e-05, -0.000207567, -0.000264807, -0.000229579, -2.1886e-05, -0.000432772, -0.000310414, -0.000329181, -9.89118e-05, -0.000217807, 2.41593e-05, -0.000147441, -1.2877e-05, -0.00018731, 0.000124599, -0.000310341, -4.13262e-05, -0.000427044, -7.93066e-05, -0.00195429, -0.0021694, -0.0112681, -0.0291372, -0.132801, -0.662595, -0.132801, -0.0291372, -0.0112681, -0.0021694, -0.00195429, -7.93066e-05, -0.000427044, -4.13262e-05, -0.000310341, 0.000124599, -0.00018731, -1.2877e-05, -0.000147441, 2.41593e-05, -0.000217807, -9.89118e-05, -0.000329181, -0.000310414, -0.000432772, -2.1886e-05, -0.000229579, -0.000264807, -0.000207567, -7.65039e-05, -8.03507e-05, -1.28894e-05, -2.86092e-05, 2.90319e-07, -3.5232e-05, 1.49187e-05, -2.3284e-05, 1.95224e-06, -2.84602e-05, 1.01952e-05, -3.95779e-05, -1.37353e-05, -6.48392e-05, -5.89333e-05, -0.000109826
    }
};
