

/* web/kiwi/kiwi_map.min.js (web/kiwi/kiwi_map.js = Fri Jun  3 18:33:07 2022) */
var kmap={ADD_TO_MAP:!0,NO_ADD_TO_MAP:!1,DIR_LEFT:!0,DIR_RIGHT:!1,VISIBLE:!0,NOT_VISIBLE:!1,_last_last:0};function kiwi_map_init(t,o,a,n,i,e){var r=19,_=function(){return r=18,L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{tileSize:256,zoomOffset:0,attribution:'<a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>',crossOrigin:!0})}(),m=L.map("id-"+t+"-map",{maxZoom:r,minZoom:1,doubleClickZoom:!1,zoomControl:!1}).setView(o,a);m.on("baselayerchange",function(o){var a=o.target,o=a.getCenter();kiwi_pan_zoom(a,[o.lat+.1,o.lng],-1),kiwi_pan_zoom(a,[o.lat,o.lng],-1)});var c={ext_name:t,map:m};m.on("click",function(o,a){w3_call(t+"_map_click_cb",a,o)}),m.on("move",function(o,a){w3_call(t+"_map_move_cb",a,o)}),m.on("zoom",function(o,a){w3_call(t+"_map_zoom_cb",a,o)}),m.on("moveend",function(o,a){w3_call(t+"_map_move_end_cb",a,o)}),m.on("zoomend",function(o,a){w3_call(t+"_map_zoom_end_cb",a,o)}),L.control.zoom_Kiwi({position:"topright",zoomNomText:"2",zoomNomLatLon:o}).addTo(m),_.addTo(m);_=L.control.scale();_.addTo(m),_.setPosition("bottomleft");var l=new Terminator;l.setStyle({fillOpacity:.35}),l.addTo(m),setInterval(function(){var o=new Terminator;l.setLatLngs(o.getLatLngs()),l.redraw()},6e4),l._path.style.cursor="grab";_=L.latlngGraticule();return _.addTo(m),c.map_layers=[_],c.graticule=_,c.day_night=l,c.init_latlon=o,c.init_zoom=a,c.mapZoom_nom=n,c}function kiwi_map_add_marker_icon(o,a,t,n,i,e,r){i=L.icon({iconUrl:t,iconAnchor:i}),e=L.marker(n,{icon:i,opacity:e});a&&(e.addTo(o.map),r&&r(e._icon))}function kiwi_map_add_marker_div(o,a,t,n,i,e,r){e=L.divIcon({className:n,html:"",iconAnchor:i,tooltipAnchor:e}),r=L.marker(t,{icon:e,opacity:r});return a&&r.addTo(o.map),r}function kiwi_style_marker(o,a,t,n,i,e,r){t.bindTooltip(n,{className:i,permanent:!0,direction:e?"left":"right"}),r&&t.on("add",function(o){r(o)}),a&&(t.addTo(o.map),o.map_layers.push(t))}function kiwi_map_day_night_visible(o,a){var t=o.day_night;a?(t.addTo(o.map),o.map_layers.push(t),t._path.style.cursor="grab"):(t.remove(),o.map_layers=o.map_layers.filter(function(o){}))}function kiwi_map_graticule_visible(o,a){var t=o.graticule;a?(t.addTo(o.map),o.map_layers.push(t)):(t.remove(),o.map_layers=o.map_layers.filter(function(o){}))}function kiwi_map_markers_visible(o,t,n){w3_iterate_children(o,function(o,a){o.className.includes(t)&&w3_hide2(o,!n)})}function kiwi_pan_zoom(o,a,t){null==a&&(a=o.getCenter()),-1==t&&(t=o.getZoom()),o.setView(a,t,{duration:0,animate:!1})}



