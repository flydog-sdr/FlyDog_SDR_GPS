

/* web/openwebrx/ima_adpcm.min.js (web/openwebrx/ima_adpcm.js = Tue Dec 17 12:17:14 2019) */
var indexAdjustTable=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8],stepSizeTable=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767];function ImaAdpcmDecode(e,a){var p=stepSizeTable[a.index],d=p>>3;return 1&e&&(d+=p>>2),2&e&&(d+=p>>1),4&e&&(d+=p),8&e&&(d=-d),a.previousValue+=d,a.previousValue>a.pos_clamp?a.previousValue=a.pos_clamp:a.previousValue<a.neg_clamp&&(a.previousValue=a.neg_clamp),a.index+=indexAdjustTable[e],a.index<0?a.index=0:88<a.index&&(a.index=88),a.previousValue}function decode_ima_adpcm_e8_i16(e,a,p,d){d.pos_clamp=32767,d.neg_clamp=-32768;for(var c=0,i=0;i<p;i++){var m=e.getUint8(i);a[c++]=ImaAdpcmDecode(15&m,d),a[c++]=ImaAdpcmDecode(m>>4&15,d)}}function decode_ima_adpcm_e8_u8(e,a,p,d){d.pos_clamp=255;for(var c=d.neg_clamp=0,i=0;i<p;i++)a[c++]=ImaAdpcmDecode(15&e[i],d),a[c++]=ImaAdpcmDecode(e[i]>>4&15,d)}



