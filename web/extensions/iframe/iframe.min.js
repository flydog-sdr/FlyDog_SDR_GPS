

/* web/extensions/iframe/iframe.min.js (web/extensions/iframe/iframe.js = Sun Nov 21 12:00:19 2021) */
var iframe={ext_name:"iframe",first_time:!0,CMD1:0};function iframe_main(){ext_switch_to_client(iframe.ext_name,iframe.first_time,iframe_recv),iframe.first_time||iframe_controls_setup(),iframe.first_time=!1}function iframe_recv(e){if("DAT"!=arrayBufferToStringLen(e,3))for(var i=arrayBufferToString(e).substring(4).split(" "),t=0;t<i.length;t++){var r=i[t].split("=");switch(r[0]){case"ready":iframe_controls_setup();break;default:console.log("iframe_recv: UNKNOWN CMD "+r[0])}}else{var a=new Uint8Array(e,4),f=a[0];f==iframe.CMD1||console.log("iframe_recv: DATA UNKNOWN cmd="+f+" len="+(a.length-1))}}function iframe_controls_setup(){iframe.title=ext_get_cfg_param_string("iframe.title","",EXT_NO_SAVE),iframe.helptext=ext_get_cfg_param_string("iframe.help","",EXT_NO_SAVE),iframe.url=ext_get_cfg_param_string("iframe.url","",EXT_NO_SAVE),iframe.width=ext_get_cfg_param("iframe.width",0,EXT_NO_SAVE),iframe.height=ext_get_cfg_param("iframe.height",0,EXT_NO_SAVE),iframe.width=parseInt(iframe.width),iframe.height=parseInt(iframe.height);iframe.width<=0&&(iframe.width=450),iframe.height<=0&&(iframe.height=450),""==iframe.helptext&&(iframe.helptext=""),""==iframe.url&&(iframe.url="/gfx/kiwi-with-headphones.51x67.png"),""==iframe.title&&(iframe.title="iframe extension"),console_log_fqn("iframe","iframe.url","iframe.title","iframe.width","iframe.height","iframe.helptext");var e=w3_div("w3-text-white",w3_div("w3-medium","<b>"+iframe.title+"</b>"),w3_div("id-iframe-container w3-margin-T-8 w3-relative","<iframe src="+dq(iframe.url)+' style="width:'+px(iframe.width)+"; height:"+px(iframe.height)+'; border:0;"></iframe>'));ext_panel_show(e,null,null),ext_set_controls_width_height(iframe.width+20,iframe.height+20+25)}function iframe_blur(){w3_innerHTML("id-iframe-container","")}function iframe_config_html(){var e=w3_divs("/w3-margin-bottom",w3_input_get("","Title text","iframe.title","w3_string_set_cfg_cb",""),w3_input_get("","URL","iframe.url","w3_string_set_cfg_cb",""),w3_input_get("","Window width","iframe.width","w3_num_set_cfg_cb",0),w3_input_get("","Window height","iframe.height","w3_num_set_cfg_cb",0),w3_input_get("","Help text","iframe.help","w3_string_set_cfg_cb",""),w3_div("w3-right w3-text-black","iframe by Kari Karvonen, OH1KK"));ext_config_html(iframe,"iframe","iframe","iframe extension configuration",e)}function iframe_help(e){if(e){var i=w3_text("w3-medium w3-bold w3-text-aqua",iframe.title+" help")+"<br>"+iframe.helptext;confirmation_show_content(i,610,125)}return!0}


