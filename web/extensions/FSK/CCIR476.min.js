function CCIR476(){var _=this;_.code_character32=106,_.LETTERS=90,_.FIGURES=54,_.code_alpha=15,_.code_beta=51,_.code_char32=106,_.code_rep=102,_.char_bell=7,_.valid_codes=[],_.code_ltrs=[],_.ltrs_code=[],_.code_figs=[],_.figs_code=[],_.shift=!1,_.alpha_phase=!1,_.strict_mode=!1;var e=BET=FGS=LTR=REP=C32="_";_.ltrs=["_","_","_","_","_","_","_","_","_","_","_","_","_","_","_",e,"_","_","_","_","_","_","_","J","_","_","_","F","_","C","K","_","_","_","_","_","_","_","_","W","_","_","_","Y","_","P","Q","_","_","_","_",BET,"_","G",FGS,"_","_","M","X","_","V","_","_","_","_","_","_","_","_","_","_","A","_","_","_","S","_","I","U","_","_","_","_","D","_","R","E","_","_","N",LTR,"_"," ","_","_","_","_","_","_","Z","_","L",REP,"_","_","H",C32,"_","\n","_","_","_","_","O","B","_","T","_","_","_","\r","_","_","_","_","_","_","_"],_.figs=["_","_","_","_","_","_","_","_","_","_","_","_","_","_","_",e,"_","_","_","_","_","_","_","'","_","_","_","!","_",":","(","_","_","_","_","_","_","_","_","2","_","_","_","6","_","0","1","_","_","_","_",BET,"_","&",FGS,"_","_",".","/","_",";","_","_","_","_","_","_","_","_","_","_","-","_","_","_","","_","8","7","_","_","_","_","$","_","4","3","_","_",",",LTR,"_"," ","_","_","_","_","_","_",'"',"_",")",REP,"_","_","#",C32,"_","\n","_","_","_","_","9","?","_","5","_","_","_","\r","_","_","_","_","_","_","_"];for(var t=0;t<128;t++)if(_.check_bits(t)){_.valid_codes[t]=!0;var c=_.ltrs[t];"_"!=c&&(_.code_ltrs[t]=c,_.ltrs_code[c]=t);var s=_.figs[t];"_"!=s&&(_.code_figs[t]=s,_.figs_code[s]=t)}}CCIR476.prototype.reset=function(){this.shift=!1},CCIR476.prototype.get_shift=function(){return this.shift},CCIR476.prototype.get_nbits=function(){return 7},CCIR476.prototype.get_msb=function(){return 64},CCIR476.prototype.check_valid=function(_){return this.valid_codes[_]},CCIR476.prototype.code_to_char=function(_,e){var t=e?this.code_figs[_]:this.code_ltrs[_];return null==t&&(t=-_),t},CCIR476.prototype.check_bits=function(_){for(var e=0;0!=_;)e++,_&=_-1;return 4==e},CCIR476.prototype.process_char=function(_,e,t){var c=this,s=c.check_bits(_),o=0,r=-1;if(_==c.code_rep?c.alpha_phase=!1:_==c.code_alpha&&(c.alpha_phase=!0),c.alpha_phase)if(c.strict_mode?s&&c.c1==_&&(r=_):s?r=_:c.check_bits(c.c1)&&(r=c.c1),-1==r)o=-1;else switch(o=1,r){case c.code_rep:case c.code_alpha:case c.code_beta:case c.code_char32:break;case c.LETTERS:c.shift=!1;break;case c.FIGURES:c.shift=!0;break;default:(r=c.code_to_char(r,c.shift))<0?console.log("missed this code: 0x"+Math.abs(r).toString(16)):t(r.toString())}else c.c1=c.c2,c.c2=c.c3,c.c3=_;return c.alpha_phase=!c.alpha_phase,{success:s,tally:o}};