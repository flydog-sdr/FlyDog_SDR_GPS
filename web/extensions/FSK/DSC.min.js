

/* web/extensions/FSK/DSC.min.js (web/extensions/FSK/DSC.js = Thu May 26 11:03:33 2022) */
function DSC(a,e){var n=this;console.log("FSK encoder: DSC"),n.isDSC=!0,a&&e("\f"+ansi.RED+"WARNING: Do not use the DSC decoder in any life-safety application. Hobby radio monitoring only.\n"+ansi.NORM+"No distress messages are currently decoded. See the KiwiSDR forum for details.\n\n"),n.dbg=0,n.test_msgs=0,n.dump_eos=0,n.start_bit=0,n.seq=0,n.MSG_LEN_MIN=62,n.MSG_LEN_MAX=80,n.FIRST_CALL=!0,n.POS_REQUEST=!0,n.synced=0,n.sym_s=["   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","   ","GEO","   ","Pr0","Pr1","Pr2","Pr3","Pr4","Pr5","Pr6","Pr7","*D*","   ","INT","   ","ALL","ARQ","   ","   ","STA","RSV","ABQ","ATO","   ","Pdx","  *","EOS"],n.DX=125,n.RX7=111,n.FMT_GEO_AREA=102,n.FMT_DISTRESS=112,n.FMT_COMMON_INTEREST=114,n.FMT_ALL_SHIPS=116,n.FMT_INDIV_STA=120,n.FMT_RESV=121,n.FMT_IS_SEMI_AUTO=123,n.CAT_ROUTINE=100,n.CAT_SAFETY=108,n.CAT_URGENCY=110,n.CAT_DISTRESS=112,n.CMD1_POLLING=103,n.CMD1_UNABLE_COMPLY=104,n.CMD1_END_OF_CALL=105,n.CMD1_F1B_DATA=106,n.CMD1_J3E_RT=109,n.CMD1_DISTRESS_ACK=110,n.CMD1_DISTRESS_ALERT_RELAY=112,n.CMD1_F1B_FEC=113,n.CMD1_F1B_ARQ=115,n.CMD1_TEST=118,n.CMD1_POSITION=121,n.CMD1_NOP=126,n.CMD2_UNABLE_FIRST=100,n.CMD2_BUSY=102,n.CMD2_UNABLE_LAST=109,n.CMD2_NON_CONFLICT=110,n.CMD2_MED_TRANSPORTS=111,n.CMD2_NOP=126,n.ARQ=117,n.ABQ=122,n.EOS=127,n.NOP=126,n.ecc_sym=["fmt","to1","to2","to3","to4","to5","cat","from1","from2","from3","from4","from5","cmd1","cmd2","freq1.1","freq1.2","freq1.3","freq2.1","freq2.2","freq2.3","eos"],n.pos_s=[" dx","rx7"," dx","rx6"," dx","rx5"," dx","rx4"," dx","rx3"," dx","rx2","Afmt","rx1","Afmt","rx0","Bto1","Afmt","Bto2","Afmt","Bto3","Bto1","Bto4","Bto2","Bto5","Bto3","Cat","Bto4","Dfr1","Bto5","Dfr2","Cat","Dfr3","Dfr1","Dfr4","Dfr2","Dfr5","Dfr3","E1cmd","Dfr4","E2cmd","Dfr5","Ffreq1","E1cmd","Ffreq2","E2cmd","Ffreq3","Ffreq1","Gfreq1","Ffreq2","Gfreq2","Ffreq3","Gfreq3","Gfreq1","eos","Gfreq2","ecc","Gfreq3","eos","eos","eos","ecc"],n.pos={},n.pos_n={},n.pos_s.forEach(function(a,e){a=a.trim(),isDefined(n.pos_n[a])||(n.pos_n[a]=0),n.pos[a+"-"+n.pos_n[a].toString()]=e,n.pos_n[a]++}),n.dbg&&console.log(n.pos);var r=function(a){var e=kiwi_bitCount(127^a);return kiwi_bitReverse(e,3)};n.DX_w=r(n.DX)<<7|n.DX,n.svec=[];for(var o=n.RX7,s=0;s<12;s++)n.svec[s]=1&s?r(o)<<7|o:n.DX_w,1&s&&o--;if(n.format_s={102:"geo-area",112:"*distress*",114:"com-int",116:"all-ships",120:"indiv-sta",121:"resv",123:"semi-auto"},n.category_s={100:"routine",108:"safety",110:"urgency",112:"*distress*"},n.MID_area=["Europe","N.AM/C.AM","Asia","Oceania","Africa","S.AM"],n.tlist=null,n.test_msgs){var i={s:"Afmt",n:n.FMT_COMMON_INTEREST},t={s:"Afmt",n:n.FMT_ALL_SHIPS},l={s:"Afmt",n:n.FMT_GEO_AREA},u={s:"Afmt",n:n.FMT_INDIV_STA},c={s:"Afmt",n:n.FMT_DISTRESS},S={s:"Cat",n:n.CAT_DISTRESS},C={s:"Cat",n:n.CAT_URGENCY},_={s:"Cat",n:n.CAT_SAFETY},d={s:"Cat",n:n.CAT_ROUTINE},m={s:"E1cmd",n:n.CMD1_J3E_RT},A={s:"E1cmd",n:n.CMD1_F1B_FEC},M={s:"E1cmd",n:n.CMD1_POSITION},h={s:"E2cmd",n:n.CMD2_MED_TRANSPORTS},f={s:"Ffreq1",n:2},T={s:"Ffreq2",n:34},g={s:"Ffreq3",n:56},E={s:"eos",n:n.EOS},p={s:"eos",n:n.ARQ},y={s:"eos",n:n.ABQ};n.tlist=[],n.tlist.push([c,S,E]),n.tlist.push([u,_,M,{s:"Ffreq1",n:55},{s:"Ffreq2",n:21},{s:"Ffreq3",n:23},{s:"Gfreq1",n:41},{s:"Gfreq2",n:56},{s:"Gfreq3",n:78},p]),n.tlist.push([u,_,M,{s:"Ffreq1",n:21},{s:"Ffreq2",n:23},{s:"Ffreq3",n:41},{s:"Gfreq1",n:56},{s:"Gfreq2",n:78},{s:"Gfreq3",n:n.NOP},y]),n.tlist.push([u,d,m,{s:"Ffreq1",n:55},{s:"Ffreq2",n:21},{s:"Ffreq3",n:23},{s:"Gfreq1",n:41},{s:"Gfreq2",n:56},{s:"Gfreq3",n:78},y]),n.tlist.push([t,_,m,f,T,g,E]),n.tlist.push([l,C,m,h,{s:"Bto1",n:21},{s:"Bto2",n:21},{s:"Bto3",n:34},{s:"Bto4",n:2},{s:"Bto5",n:3},f,T,g,E]),n.tlist.push([u,_,m,f,T,g,{s:"Ffreq1",n:12},{s:"Ffreq2",n:78},{s:"Ffreq3",n:90},p]),n.tlist.push([i,d,A,{s:"Bto1",n:2},{s:"Bto2",n:19},{s:"Bto3",n:0},{s:"Bto4",n:0},{s:"Bto5",n:0},f,T,g,E]),n.tlist.push([u,d,{s:"E1cmd",n:n.CMD1_UNABLE_COMPLY},{s:"E2cmd",n:n.CMD2_UNABLE_FIRST},f,T,g,y])}n.init_MID_MMSI()}DSC.prototype.sym_by_sym_name=function(a){var e=this.pos[a];return{pos:e,sym:this.syms[e]}},DSC.prototype.output_msg=function(a){return(new Date).toUTCString().substr(17,8)+"Z "+(ext_get_freq()/1e3).toFixed(2)+" "+a+"\n"},DSC.prototype.process_msg=function(a){var e,n=this,r=[];n.test=n.tlist&&n.tlist.length?n.tlist[0]:null;var o=function(a,e,r){if(n.test){var o=-1;if(n.test.forEach(function(e,n){a==e.s&&(o=n)}),-1!=o){var s=n.test[o].n;return console.log("TEST "+a+"="+s),{n:s,sym_s:s.toString(),z:s.leadingZeros(2),nop:s==n.NOP,err:0}}}var i,t=[];for(i=0;i<e;i++){s=n.sym_by_sym_name(a+"-"+i);n.bc_err[s.pos]||t.push(s)}var l=0==t.length,u=0;if(!l){var c=t[0];for(i=1;i<t.length;i++){var S=t[i];c.sym!=S.sym&&(u=1)}}if(l||u){var C="";for(l&&(C+="(ALL Zerr) "),i=0;i<e;i++){var _=a+"-"+i;s=n.sym_by_sym_name(_);C+=_+":"+(n.bc_err[s.pos]?"Zerr":s.sym)+" "}n.FEC_errors++,n.dbg&&console.log("FEC FAIL: "+r+" "+C)}if(l)return{n:-1,err:1};s=t[0].sym;return isUndefined(s)&&console.log(t),{n:u?-1:s,sym_s:s.toString(),z:s.leadingZeros(2),nop:s==n.NOP,err:u}},s=function(a){return n.MID[a]||"MID="+a+"?"},i=function(a,e,i){var t=o(a+"1",2,i),l=o(a+"2",2,i),c=o(a+"3",2,i),S=o(a+"4",2,i),C=o(a+"5",2,i);if(r.push(t.n),r.push(l.n),r.push(c.n),r.push(S.n),r.push(C.n),t.err||l.err||c.err||S.err||C.err)return{s:"callFEC",err:1};var _=t.z,d=l.z,m=c.z,A=S.z,M=C.z,h=m+A+M[0],f=_+d+h,T=+_[0],g=+_[1],E=+d[0],p=T>=2&&T<=7,y=g>=2&&g<=7,R=E>=2&&E<=7,D=e.n;switch(D==n.FMT_GEO_AREA&&"Dfr"==a&&(D=n.FMT_INDIV_STA),D==n.FMT_ALL_SHIPS&&"Dfr"==a&&(D=n.FMT_INDIV_STA),D==n.FMT_COMMON_INTEREST&&"Dfr"==a&&(D=n.FMT_INDIV_STA),D){case n.FMT_INDIV_STA:if(p){var F=_+d[0];I=w3_link("w3-esc-html w3-link-darker-color","www.marinetraffic.com/en/ais/details/ships/mmsi:"+f,f)+"[Flag: "+s(F)+"]"}else if("00"==_&&R){F=d+m[0];var P=function(a){return n.MMSI_coast[a]||"MMSI_7="+a+"?"}(d+h);P=P?", "+P:"",I=f+"[Coast Station: "+s(F)+P+"]"}else if("0"==_[0]&&y){F=_[1]+d;I=f+"[Ship group: "+s(F)+"]"}else if("99"==_&&R){F=d+m[0];I=f+"[NAVAID: "+s(F)+"]"}else I=u(ansi.YELLOW,f)+"[Unknown]";break;case n.FMT_DISTRESS:case n.FMT_ALL_SHIPS:I="[All ships]";break;case n.FMT_COMMON_INTEREST:if("0"==_[0]&&y){F=_[1]+d;I=f+"[Ship group: "+s(F)+"]"}else I=f+"[Ship group]";break;case n.FMT_GEO_AREA:var B=+_[0],b=0==B||2==B?"":"-",I=(0==B||1==B?"":"-")+_[1]+d[0]+"°/"+b+d[1]+m+"° "+A+"°V/"+M+"°H [Area]";break;default:I=u(ansi.YELLOW,f)+"[Other]"}return{s:I,z:f+M[1],err:0}},t=function(a,e){var n=o(a,2,e);return r.push(n.n),n.s=n.err?"cmdFEC":n.nop?"*":n.sym_s,n},l=function(a,e,s,i){var t=o(a+"1",2,s),l=o(a+"2",2,s),u=o(a+"3",2,s);if(r.push(t.n),r.push(l.n),r.push(u.n),t.err||l.err||u.err)return{s:"freqFEC",err:1};var c="",S=0;if(!t.nop&&!l.nop){var C=t.z[0];if(e&&d.n==n.CMD1_POSITION&&(S=5),1==i||"5"==C||5==S)return{s:t.z+l.z+u.z,type:5,err:0};if("0"==C||"1"==C||"2"==C)return{s:("0"==C?t.z[1]:t.z)+l.z+u.z[0]+"."+u.z[1],type:6,err:0};"4"==C&&(c="7-DIGIT MODE|",S=7)}return t.nop&&(t.z="*"),l.nop&&(l.z="*"),u.nop&&(u.z="*"),{s:c+t.z+"|"+l.z+"|"+u.z,type:S,err:0}},u=function(a,e){return a+e+ansi.NORM},c=function(){var a=o("Afmt",4,"format");return r.push(a.n),a.s=a.err?"fmtFEC":n.format_s[a.sym_s],a.s=a.s||a.n+"?",a}(),S=i("Bto",c,"called to"),C=function(){var a=o("Cat",2,"category");return r.push(a.n),a.s=a.err?"catFEC":n.category_s[a.sym_s],a.s=a.s||a.n+"?",a}(),_=i("Dfr",c,"called from"),d=t("E1cmd","telecommand 1"),m=t("E2cmd","telecommand 2"),A=l("Ffreq",n.FIRST_CALL,"frequency 1"),M=l("Gfreq",!1,"frequency 2",5==A.type),h=function(){var a=o("eos",4,"EOS");return r.push(a.n),a.s=a.err?"eosFEC":a.n==n.EOS?"EOS":a.n==n.ARQ?"ARQ":a.n==n.ABQ?"ABQ":"eos?",a}(),f=function(){var a=o("ecc",2,"ECC");a.fail=!1;var e=function(){err=[],r.forEach(function(a,e){err.push({n:n.ecc_sym[e],s:a})}),console.log(err)};if(!a.err&&!n.test){var s=0;r.forEach(function(a,e){s^=a}),console.log("ECC len="+r.length+" got="+s+" want="+a.n),a.fail=s!=a.n,dbgUs&&a.fail&&e()}return dbgUs&&n.test&&e(),a.s=a.err?"eccFEC":a.fail?"eccFAIL":"",a}(),T=n.parity_errors?" "+u(ansi.BLUE,n.parity_errors+" PE"):"",g=f.err?"ECC FEC":f.fail?"ECC":"";""!=g&&(g=" "+u(ansi.RED,g));var E,p=function(a,e){return a+(h.n==n.ABQ?" ack":"")+(e||"")},y=function(a){return a+", "+_.s+" => "+S.s},R=function(a){var e="";if(6==A.type)e+=" "+A.s,6==M.type&&(e+="/"+M.s),e+=" kHz";else if(5==A.type){var r=1==a&&h.n==n.ABQ?0:2,o=A.s+M.s,s=+o[r+0];e=" "+(0==s||1==s?"":"-")+o[r+1]+o[r+2]+"°"+o[r+3]+o[r+4]+"'/"+(0==s||2==s?"":"-")+o[r+5]+o[r+6]+o[r+7]+"°"+o[r+8]+o[r+9]+"'"}return e},D=c.err||S.err||C.err||_.err||d.err||m.err||A.err||M.err||h.err;if(D);else if(c.n==n.FMT_DISTRESS&&h.n==n.EOS)e=E="4.1";else if(C.n==n.CAT_DISTRESS&&c.n==n.FMT_ALL_SHIPS&&d.n==n.CMD1_DISTRESS_ACK&&h.n==n.EOS)e=E="4.2";else if(C.n!=n.CAT_DISTRESS||d.n!=n.CMD1_DISTRESS_ALERT_RELAY||h.n!=n.EOS&&h.n!=n.ARQ)if(C.n==n.CAT_DISTRESS&&d.n==n.CMD1_DISTRESS_ALERT_RELAY&&h.n==n.ABQ)e=E="4.4";else if(C.n!=n.CAT_SAFETY&&C.n!=n.CAT_URGENCY||c.n!=n.FMT_ALL_SHIPS||m.n!=n.CMD2_NOP||h.n!=n.EOS)if(C.n!=n.CAT_SAFETY&&C.n!=n.CAT_URGENCY||c.n!=n.FMT_GEO_AREA||h.n!=n.EOS)if(C.n!=n.CAT_SAFETY&&C.n!=n.CAT_URGENCY||c.n!=n.FMT_INDIV_STA||h.n!=n.ARQ&&h.n!=n.ABQ)if(C.n==n.CAT_ROUTINE&&c.n==n.FMT_COMMON_INTEREST&&m.n==n.CMD2_NOP&&h.n==n.EOS)switch(e=E="4.8",d.n){case n.CMD1_J3E_RT:e=y("SSB call"+R());break;case n.CMD1_F1B_FEC:e=y("FSK-FEC call"+R())}else if(C.n!=n.CAT_ROUTINE||c.n!=n.FMT_INDIV_STA||h.n!=n.ARQ&&h.n!=n.ABQ)e=E=C.n!=n.CAT_ROUTINE||c.n!=n.FMT_IS_SEMI_AUTO||h.n!=n.ARQ&&h.n!=n.ABQ?"4.x":"4.10";else if(e=E="4.9",m.n==n.CMD2_NOP)switch(d.n){case n.CMD1_J3E_RT:e=y(p("SSB call",R()));break;case n.CMD1_F1B_FEC:e=y(p("FSK-FEC call",R()));break;case n.CMD1_F1B_ARQ:e=y(p("FSK-ARQ call",R()));break;case n.CMD1_F1B_DATA:e=y(p("FSK-DATA call",R()));break;case n.CMD1_POLLING:e=y(p("Polling"))}else d.n==n.CMD1_UNABLE_COMPLY&&m.n>=n.CMD2_UNABLE_FIRST&&m.n<=n.CMD2_UNABLE_LAST&&h.n==n.ABQ&&(e=y(u(ansi.YELLOW,"Unable to comply ack")+R()));else if(e=E="4.7",m.n==n.CMD2_NOP)switch(d.n){case n.CMD1_J3E_RT:e=y(p("SSB call",R()));break;case n.CMD1_F1B_FEC:e=y(p("FSK-FEC call",R()));break;case n.CMD1_F1B_ARQ:e=y(p("FSK-ARQ call",R()));break;case n.CMD1_POSITION:e=y(p("Position request",R(n.POS_REQUEST)));break;case n.CMD1_TEST:e=y(p("Test"))}else d.n==n.CMD1_UNABLE_COMPLY&&m.n>=n.CMD2_UNABLE_FIRST&&m.n<=n.CMD2_UNABLE_LAST&&h.n==n.ABQ&&(e=y(u(ansi.YELLOW,"Unable to comply ack")+R()));else{e=E="4.6";var F=m.n==n.CMD2_NOP?"":m.n==n.CMD2_MED_TRANSPORTS?" medical":m.n==n.CMD2_NON_CONFLICT?" ships/aircraft":"";switch(d.n){case n.CMD1_J3E_RT:e=y("SSB call"+F+R());break;case n.CMD1_F1B_FEC:e=y("FSK-FEC call"+F+R())}}else switch(e=E="4.5",d.n){case n.CMD1_J3E_RT:e=y("SSB call"+R());break;case n.CMD1_F1B_FEC:e=y("FSK-FEC call"+R())}else e=E="4.3";if(dbgUs){var P="$$ "+(D?"FEC FAIL":"OK"),B=kiwi_remove_escape_sequences(S.s),b=kiwi_remove_escape_sequences(_.s);console.log(P+" fmt="+c.s+" to="+B+" cat="+C.s+" from="+b),console.log(P+" cmd1="+d.s+" cmd2="+m.s+" freq1="+A.s+" freq2="+M.s+" eos="+h.s+" ecc="+f.s+T+g)}var I="",N="";return D?(N=u(ansi.BLUE,n.FEC_errors+" FEC"),g=""):(I=e.startsWith("4.")?u(ansi.MAGENTA,"DECODE "+e)+" fmt="+c.n+" cat="+C.n+" cmd1="+d.n+" cmd2="+m.n+" from="+_.z+" to="+S.z+" freq1="+A.s+" freq2="+M.s+" eos="+h.n+" ecc="+f.n:(dbgUs?E+" ":"")+function(){if(c.n==n.FMT_DISTRESS)return u(ansi.RED,"DISTRESS");switch(C.n){case n.CAT_DISTRESS:return u(ansi.RED,"DISTRESS");case n.CAT_URGENCY:return u(ansi.YELLOW,"URGENT");case n.CAT_SAFETY:return u(ansi.CYAN,"SAFETY");case n.CAT_ROUTINE:return u(ansi.GREEN,"ROUTINE")}return u(ansi.GREY,"UNKNOWN")}()+" "+e,n.test&&(I="TEST "+I,n.tlist.shift())),a?(e=""!=N?N:I,n.output_msg(e+T+g)):e=""!=N?"":n.output_msg(I+T+g)},DSC.prototype.code_to_char=function(a){return a<0||a>127?"???":this.sym_s[a]},DSC.prototype.reset=function(){var a=this;a.syncA=a.syncB=a.syncC=a.syncD=a.syncE=0},DSC.prototype.get_nbits=function(){return 10},DSC.prototype.get_msb=function(){return 512},DSC.prototype.check_bits=function(){return!1},DSC.prototype.search_sync=function(a){var e,n,r=this;e=a,n=1&r.syncA,r.syncA=r.syncA>>1&1023,r.syncA|=e?512:0,e=n,n=1&r.syncB,r.syncB=r.syncB>>1&1023,r.syncB|=e?512:0,e=n,n=1&r.syncC,r.syncC=r.syncC>>1&1023,r.syncC|=e?512:0,e=n,n=1&r.syncD,r.syncD=r.syncD>>1&1023,r.syncD|=e?512:0,e=n,n=1&r.syncE,r.syncE=r.syncE>>1&1023,r.syncE|=e?512:0;for(var o=0;o<=9;o++)if(r.syncC==r.svec[o]&&r.syncB==r.svec[o+1]&&r.syncA==r.svec[o+2])return console.log("SYNC-DRD-"+o),r.seq=o+3,r.full_syms=[],r.syms=[],r.bc_err=[],r.parity_errors=0,r.FEC_errors=0,r.synced=1,!0;for(o=1;o<=7;o+=2)if(r.syncE==r.svec[o]&&r.syncC==r.svec[o+2]&&r.syncA==r.svec[o+4])return console.log("SYNC-RRR-"+o),r.seq=o+5,r.full_syms=[],r.syms=[],r.bc_err=[],r.parity_errors=0,r.FEC_errors=0,r.synced=1,!0;return r.synced=0,!1},DSC.prototype.process_char=function(a,e,n,r){var o=this;if(!o.synced)return{resync:0};o.full_syms[o.seq]=a;var s=a>>7&7,i=127&a;o.syms[o.seq]=i;var t=o.pos_s[o.seq],l=o.code_to_char(i),u=(A=kiwi_bitReverse(s,3))!=(M=kiwi_bitCount(127^i))?" Zck="+A+" Zdata="+M:"";o.bc_err[o.seq]=A!=M,o.bc_err[o.seq]&&o.parity_errors++,o.dbg&&console.log(o.seq.leadingZeros(2)+" "+t+": "+l+" "+i.fieldWidth(3)+". "+s.toString(2).leadingZeros(3)+" "+i.toString(2).leadingZeros(7)+u),o.seq++;var c=!1;if(o.seq>=o.MSG_LEN_MIN){var S=function(a){var e=0;return o.bc_err[o.seq-2]||o.syms[o.seq-2]!=a||e++,o.bc_err[o.seq-3]||o.syms[o.seq-3]!=a||e++,o.bc_err[o.seq-4]||o.syms[o.seq-4]!=a||e++,o.bc_err[o.seq-8]||o.syms[o.seq-8]!=a||e++,e>=3&&console.log("eos_n("+a+")="+e),e>=3},C=function(a,e){return a+e+ansi.NORM};if((S(o.EOS)||S(o.ARQ)||S(o.ABQ))&&(c=!0),c||o.seq>o.MSG_LEN_MAX){var _=0;if(c)o.seq!=o.MSG_LEN_MIN&&(r&&n(o.output_msg(C(ansi.BLUE,"non-std len="+o.seq))),console.log("$$ non-std len="+o.seq),_=1),n(o.process_msg(r));else{var d=o.parity_errors?" "+C(ansi.BLUE,o.parity_errors+" PE"):"";r&&n(o.output_msg(C(ansi.BLUE,"no EOS")+d)),console.log("$$ no EOS pe="+o.parity_errors),_=o.dump_eos}if(_&&dbgUs)for(var m=0;m<o.seq;m++){a=o.full_syms[m];isUndefined(a)&&(a=119);var A,M;i=127&a,t=o.pos_s[m],l=o.code_to_char(i),s=a>>7&7,u=(A=kiwi_bitReverse(s,3))!=(M=kiwi_bitCount(127^i))?" Zck="+A+" Zdata="+M:"";console.log(m.leadingZeros(2)+" "+t+": "+l+" "+i.fieldWidth(3)+". "+s.toString(2).leadingZeros(3)+" "+i.toString(2).leadingZeros(7)+u)}return o.synced=0,{resync:1}}}return{resync:0}},DSC.prototype.init_MID_MMSI=function(){this.MID={201:"Albania",202:"Andorra",203:"Austria",204:"Azores",205:"Belgium",206:"Belarus",207:"Bulgaria",208:"Vatican City State",209:"Cyprus",210:"Cyprus",211:"Germany",212:"Cyprus",213:"Georgia",214:"Moldova",215:"Malta",216:"Armenia",218:"Germany",219:"Denmark",220:"Denmark",224:"Spain",225:"Spain",226:"France",227:"France",228:"France",229:"Malta",230:"Finland",231:"Faroe Islands",232:"United Kingdom",233:"United Kingdom",234:"United Kingdom",235:"United Kingdom",236:"Gibraltar",237:"Greece",238:"Croatia",239:"Greece",240:"Greece",241:"Greece",242:"Morocco",243:"Hungary",244:"Netherlands",245:"Netherlands",246:"Netherlands",247:"Italy",248:"Malta",249:"Malta",250:"Ireland",251:"Iceland",252:"Liechtenstein",253:"Luxembourg",254:"Monaco",255:"Madeira",256:"Malta",257:"Norway",258:"Norway",259:"Norway",261:"Poland",262:"Montenegro",263:"Portugal",264:"Romania",265:"Sweden",266:"Sweden",267:"Slovak Republic",268:"San Marino",269:"Switzerland",270:"Czech Republic",271:"Turkey",272:"Ukraine",273:"Russian Federation",274:"Former Yugoslav Republic of Macedonia",275:"Latvia",276:"Estonia",277:"Lithuania",278:"Slovenia",279:"Serbia",301:"Anguilla",303:"Alaska (State of, USA)",304:"Antigua and Barbuda",305:"Antigua and Barbuda",306:"Sint Maarten/Bonaire/Cura§ao",307:"Aruba",308:"Bahamas",309:"Bahamas",310:"Bermuda",311:"Bahamas",312:"Belize",314:"Barbados",316:"Canada",319:"Cayman Islands",321:"Costa Rica",323:"Cuba",325:"Dominica",327:"Dominican Republic",329:"Guadeloupe (French Department)",330:"Grenada",331:"Greenland",332:"Guatemala",334:"Honduras",336:"Haiti",338:"United States of America",339:"Jamaica",341:"Saint Kitts and Nevis",343:"Saint Lucia",345:"Mexico",347:"Martinique",348:"Montserrat",350:"Nicaragua",351:"Panama",352:"Panama",353:"Panama",354:"Panama",355:"-",356:"-",357:"-",358:"Puerto Rico",359:"El Salvador",361:"Saint Pierre and Miquelon",362:"Trinidad and Tobago",364:"Turks and Caicos Islands",366:"United States of America",367:"United States of America",368:"United States of America",369:"United States of America",370:"Panama",371:"Panama",372:"Panama",373:"Panama",374:"-",375:"Saint Vincent and the Grenadines",376:"Saint Vincent and the Grenadines",377:"Saint Vincent and the Grenadines",378:"British Virgin Islands",379:"United States Virgin Islands",401:"Afghanistan",403:"Saudi Arabia",405:"Bangladesh",408:"Bahrain",410:"Bhutan",412:"China",413:"China",414:"China",416:"Taiwan",417:"Sri Lanka",419:"India",422:"Iran",423:"Azerbaijan",425:"Iraq",428:"Israel",431:"Japan",432:"Japan",434:"Turkmenistan",436:"Kazakhstan",437:"Uzbekistan",438:"Jordan",440:"South Korea",441:"South Korea",443:"State of Palestine",445:"Democratic People's Republic of Korea",447:"Kuwait",450:"Lebanon",451:"Kyrgyz Republic",453:"Macao",455:"Maldives",457:"Mongolia",459:"Nepal",461:"Oman",463:"Pakistan",466:"Qatar",468:"Syrian Arab Republic",470:"United Arab Emirates",472:"Tajikistan",473:"Yemen",475:"Yemen",477:"Hong Kong",478:"Bosnia and Herzegovina",501:"Adelie Land",503:"Australia",506:"Myanmar",508:"Brunei Darussalam",510:"Micronesia",511:"Palau",512:"New Zealand",514:"Cambodia",515:"Cambodia",516:"Christmas Island (Indian Ocean)",518:"Cook Islands",520:"Fiji",523:"Cocos (Keeling) Islands",525:"Indonesia",529:"Kiribati",531:"Lao People's Democratic Republic",533:"Malaysia",536:"Northern Mariana Islands",538:"Marshall Islands",540:"New Caledonia",542:"Niue",544:"Nauru",546:"French Polynesia",548:"Philippines",553:"Papua New Guinea",555:"Pitcairn Island",557:"Solomon Islands",559:"American Samoa",561:"Samoa",563:"Singapore",564:"Singapore",565:"Singapore",566:"Singapore",567:"Thailand",570:"Tonga",572:"Tuvalu",574:"Viet Nam",576:"Vanuatu",577:"Vanuatu",578:"Wallis and Futuna Islands",601:"South Africa",603:"Angola",605:"Algeria",607:"Saint Paul and Amsterdam Islands",608:"Ascension Island",609:"Burundi",610:"Benin",611:"Botswana",612:"Central African Republic",613:"Cameroon",615:"Congo",616:"Comoros",617:"Cabo Verde",618:"Crozet Archipelago",619:"Cote d'Ivoire",620:"Comoros",621:"Djibouti",622:"Egypt",624:"Ethiopia",625:"Eritrea",626:"Gabonese Republic",627:"Ghana",629:"Gambia",630:"Guinea-Bissau",631:"Equatorial Guinea",632:"Guinea",633:"Burkina Faso",634:"Kenya",635:"Kerguelen Islands",636:"Liberia",637:"Liberia",638:"South Sudan",642:"Libya",644:"Lesotho",645:"Mauritius",647:"Madagascar",649:"Mali",650:"Mozambique",654:"Mauritania",655:"Malawi",656:"Niger",657:"Nigeria",659:"Namibia",660:"Reunion",661:"Rwanda",662:"Sudan",663:"Senegal",664:"Seychelles",665:"Saint Helena",666:"Somalia",667:"Sierra Leone",668:"Sao Tome and Principe",669:"Swaziland",670:"Chad",671:"Togolese Republic",672:"Tunisia",674:"Tanzania",675:"Uganda",676:"Democratic Republic of the Congo",677:"Tanzania",678:"Zambia",679:"Zimbabwe",701:"Argentine",710:"Brazil",720:"Bolivia",725:"Chile",730:"Colombia",735:"Ecuador",740:"Falkland Islands (Malvinas)",745:"Guiana (French Department)",750:"Guyana",755:"Paraguay",760:"Peru",765:"Suriname",770:"Uruguay",775:"Venezuela"},this.MMSI_coast={2040100:"Delgada",2040200:"Horta",2050480:"Oostende",2050485:"Antwerpen",2070810:"Varna",2091000:"Cyprus",2111240:"Bremen Rescue Radio",2130100:"Batumi",2130300:"Poti",2191000:"Lyngby",2240991:"Barcelona",2240992:"Coruna",2240993:"Finisterre",2240994:"Tarifa",2240995:"Las Palmas",2240996:"Bilbao",2240997:"Gijon",2240998:"Vigo",2241001:"Algeciras",2241002:"Almeria",2241003:"Cartegena",2241004:"Valencia",2241005:"Palma",2241006:"Tarragona",2241007:"Tenerife",2241008:"Madrid",2241009:"Santander",2241011:"Cadiz",2241012:"Huelva",2241016:"Castellon",2241021:"Bilbao",2241022:"Coruna",2241023:"Malaga",2241024:"Valencia",2241025:"Tenerife",2241026:"Las Palmas",2241078:"Madrid Radio",2275000:"Etel",2275100:"Gris Nez",2275200:"Jobourg",2275300:"Corsen",2275400:"La Garde",2275420:"Aspretto",2300230:"Turku",2301000:"Turku",2302000:"Helsinki",2303000:"Vaasa",2311000:"Torshavn",2320001:"MRSC Shetland",2320004:"MRCC Aberdeen",2320005:"MRSC Forth",2320007:"MRSC Humber",2320008:"MRCC Yarmouth",2320009:"MRSC Thames",2320010:"MRCC Dover",2320011:"MRSC Solent",2320012:"MRSC Portland",2320013:"MRSC Brixham",2320014:"MRCC Falmouth",2320016:"MRCC Swansea",2320017:"MRSC Milford Haven",2320018:"MRSC Holyhead",2320019:"MRSC Liverpool",2320021:"MRSC Belfast",2320022:"MRCC Clyde",2320024:"MRSC Stornoway",2320060:"Jersey Radio",2320064:"S.Peter Port Radio",2371000:"Olympia",237673000:"Piraeus JRCC",237673140:"Patrai Port Auth",237673150:"Rodos Port Auth",237673180:"Iraklion Port Auth",237673190:"Kerkyra Port Auth",237673210:"Thessaloniki Port Auth",237673220:"Mytilini Port Auth",237673230:"Pylos Port Auth",2380100:"Split",2380200:"Rijeka",2380300:"Dubrovnik",2387010:"Rijeka",2387020:"Rijeka",2387030:"Split",2387040:"Split",2387400:"Zadar",2387401:"Zadar",2387500:"Sibenik",2387501:"Sibenik",2387800:"Dubrovnik",2387801:"Dubrovnik",2391000:"Aspropirgos Attikis",2442000:"Netherland CG Radio",2470001:"Roma",2470002:"Palermo",2500100:"Malin Head",2500200:"Valentia",2500300:"Dublin",2510100:"Reykjavik",2510200:"Reykjavik",2550100:"Funchal",2550200:"Porto Santo",2570000:"All Norwegian Stations",2570100:"Tjoeme",2570300:"Rogaland",2570500:"Floroe",2570700:"Bodoe",2570800:"Vardoe",2570900:"Svalbard/Bjoernoeya/Jan Mayen",2610210:"Witowo",2630100:"Lisboa",2630200:"Apulia",2630400:"Sagres",2640570:"Constanta",2653000:"Goteborg",2711000:"Istanbul",2712000:"Samsun",2713000:"Antalya",2715000:"Izmir",2723650:"Mariupol",2723655:"Yuzhnyy",2723659:"Kerch",2723660:"Odessa",2723663:"Theodosia",2723672:"Berdiansk",2733728:"Magadan",2733700:"Sankt Peterburg",2733733:"Yuzhno-Sakhalinsk",2734411:"Novorossiysk",2734412:"Vladivostok",2734413:"Tuapse",2734414:"Arkhangelsk",2734415:"Vyborg",2734416:"Magadan",2734417:"Kaliningrad",2734418:"Petropavlovsk-Kamchatskiy",2734419:"Astrakhan",2734420:"Murmansk",2734421:"Vanino",2734422:"Eisk/Rostov-na-Donu",2734423:"Makhachkala",2750100:"Riga Rescue Radio",2761000:"Tallinn",2760120:"Kuressaare",2770330:"Klaipeda Rescue Centre",2780200:"Koper",2790001:"Bar",2790002:"Obosnik",3061000:"Curacao",3100001:"Bermuda Harbour",3160010:"Vancouver",3160011:"Victoria",3160012:"Tofino",3160013:"Prince Rupert",3160014:"Comox",3160015:"St John",3160016:"Halifax",3160017:"Sydney",3160018:"Port Aux Basques",3160019:"Placentia",3160020:"St Johns",3160021:"St Anthony",3160022:"Labrador",3160023:"Iqaluit",3160025:"Riviere au Renard",3311000:"Qaqortoq",3313000:"Aasiaat",3314000:"Ammassalik",3450010:"Cerrillo",34500475:"Isla Socorro",3450110:"Tampico",3450120:"La Pesca",3450172:"Matamoros",3450173:"Mezquital",3450174:"San Blas",3450210:"Ensenada",3450272:"Isla de Cedros",3450273:"Isla Guadalupe",3450274:"San Felipe",3450310:"Veracruz",3450320:"Coatzacoalcos",3450330:"Tuxpan",3450372:"Tuxpan",3450410:"La Paz",3450420:"Los Cabos",3450430:"San Carlos",3450440:"Guerrero Negro",3450471:"La Paz",3450472:"Isla Clarion/Puerto Cortez",3450473:"Los Cabos",3450474:"Santa Rosalia",3450610:"Guaymas",3450620:"Puerto Penasco",3450671:"Guaymas",3450672:"Puerto Penasco",3450710:"Ciudad de Carmen",3450720:"Campeche",3450772:"Lerma",3450810:"Mazatlan",3450820:"Topolobampo",3450872:"Topolobampo",3450910:"Progreso",3450974:"Cayo Arcas",3451110:"Cozumel",3451120:"Chetumal",3451130:"Puerto Juarez",3451171:"Isla Mujeres",3451174:"Isla Holbox",3451175:"Isla Contoy",3451176:"Playa Linda",3451210:"Puerto Vallarta",3451410:"Manzanillo",3451610:"Lazaro Cardenas",3451810:"Acapulco",3452010:"Salina Cruz",3452030:"Puerto Angel",3452071:"Salina Cruz",3452072:"Huatulco",3452210:"Puerto Madero",3452271:"Puerto Madero",3452272:"Paredon",3660030:"Mobile Radio/WLO",3669899:"Kodiak",3669902:"Woods Hole",3669903:"Atlantic City",3669904:"Port Angeles",3669905:"Honolulu",3669906:"Cape Hatteras",3669907:"Charleston",3669908:"New Orleans",3669909:"Humboldt Bay",3669910:"Astoria WA",3669911:"North Bend",3669912:"Long Beach CA",3669913:"San Diego CA",3669914:"Mobile AL",3669915:"Galveston TX",3669916:"Corpus Christi",3669917:"St.Petersburg",3669918:"Key West FL",3669919:"Miami FL",3669920:"Fort Macon",3669921:"Southwest",3669922:"Juneau",3669924:"Valdez",3669925:"Mayport",3669926:"San Francisco",3669928:"South Portland",3669929:"New York NY",3669931:"New Haven",3669932:"Chincoteague",3669936:"Moriches",3669990:"Pt Reyes CAMSPAC",3669991:"Boston MA",3669992:"San Juan",3669993:"Honolulu",3669994:"Guam",3669995:"Portsmouth CAMSLANT",3669997:"Miami FL",3669998:"New Orleans LA",4030000:"Jeddah",4121100:"Tianjin",4121200:"Qinhuangdao",4121300:"Dalian",4121400:"Yantai",4122100:"Shanghai",4122200:"Qingdao",4122300:"Lianyungang",4122400:"Ningbo",4122500:"Wenzhou",4122600:"Fuzhou",4122700:"Xiamen",4123100:"Guangzhou",4123200:"Shantou",4123300:"Zhangjiang",4123400:"Beihai",4123500:"Haikou",4123600:"Basuo",4123700:"Sanya",4162019:"Chilung",4192201:"Daman",4192202:"Porbandar",4192203:"Mumbai",4192204:"New Mangalore",4192205:"Kochi",4192206:"Goa",4192207:"Okha",4194401:"Chennai",4194402:"Visakhapatnam",4194403:"Paradip",4194404:"Haldia",4194405:"Tuticorin",4194406:"Mandapam",4194407:"Diglipur",4194408:"Campbell Bay",4194409:"Port Blair",4225300:"Bandar Khomeyni",4225301:"Chabahar",4225302:"Bushehr",4225303:"Now-shahr",4225304:"Bander-e Abbas",4225305:"Anzali",4225306:"Kharg",4225307:"Lengeh",4225308:"Bahonar",4225309:"Khorramshahr",4225311:"Neka",4280001:"Haifa",4310001:"Tokyo Sea Patrol Radio",4310101:"Otaru",4310102:"Kushiro",4310201:"Shiogama",4310301:"Yokohama",4310401:"Nagoya",4310501:"Kobe",4310502:"Tanabe",4310503:"Kochi",4310601:"Hiroshima",4310701:"Moji",4310702:"Sasebo",4310801:"Maizuru",4310901:"Niigata",4311001:"Kagoshima",4311101:"Naha",4311102:"Ishigaki",4381234:"Aqaba Radio",4400001:"Inchon Radio",4400002:"Seoul Radio",4400101:"Pusan Radio",4400301:"Mokpo Radio",4400601:"Kangung Radio",4401001:"Inchon Police Radio",4401002:"Tonghae Police Radio",4401003:"Mokpo Police Radio",4401004:"Pusan Police Radio",4401005:"Cheju Police Radio",4472188:"Kuwait",4634052:"Gawadar",4634056:"Ormara",4634060:"Karachi",4661001:"Mesaieed Port",4700000:"Emirates",4773500:"Hong Kong Marine Rescue",5030001:"Charleville/Wiluna",5060100:"Yangon",5060200:"Myeik",5120010:"Taupo",5201100:"Suva",5250000:"Jakarta",5250001:"Surabaya",5250002:"Makassar",5250003:"Belawan",5250004:"Dumai",5250005:"Bitung",5250006:"Amboina",5250007:"Jayapura",5250008:"Semarang",5250009:"Balikpapan",5250010:"Kupang",5250011:"Sorong",5250012:"Batu Ampar",5250013:"Panjang",5250014:"Benoa",5250015:"Dili",5250016:"Pontianak",5250017:"Tarakan",5250018:"Pantoloan",5250019:"Kendari",5250020:"Ternate",5250021:"Merauke",5250022:"Lembar",5250023:"Manokwari",5250024:"Tahuna",5250025:"Sanana",5250026:"Fak-Fak",5250028:"Sibolga",5250029:"Sei Kolak Kiang/Tanjung Pinang",5250030:"Cilacap",5250031:"Biak",5330001:"Gunung Jerai",5330002:"Permatang Pauh",5330003:"Gunung Berinchang",5330004:"Ulu Kali",5330005:"Gunung Ledang",5330006:"Tioman",5330007:"Kuala Rompin",5330008:"Kuantan",5330009:"Kuala Terengganu",5330010:"Machang",5330011:"Kuching",5330012:"Bintulu",5330013:"Kota Kinabalu",5330014:"Labuan",5401000:"Noumea",5480001:"Aparri",5480002:"San Jose",5480003:"San Fernando",5480004:"Cagayan de Oro",5480005:"Real",5480006:"Roxas",5480007:"Tacloban",5630002:"Singapore",5671000:"Bangkok",5741993:"Ho Chi Minh-Ville",5741996:"Hai Phong",5741999:"Da Nang",5742001:"Nha Trang",5742004:"Vung Tau",5742006:"Hon Gai/Ha Long",5742007:"Mong Cai",5742008:"Cua Ong",5742009:"Ben Thuy",5742010:"Hue",5742011:"Quy Nhon",5742012:"Kien Giang",5742013:"Can Tho",5742014:"Thanh Hoa",5742015:"Bach Long",5742016:"Hon La",5742017:"Cua Viet",5742018:"Ly Son",5742019:"Quang Ngai",5742020:"Cam Ranh",5742021:"Phan Thiet",5742022:"Phu Quy",5742023:"Con Dao",5742024:"Tho Chu",5742025:"Nam Can",5742026:"Bac Lieu",5742027:"Ha Tien",5742028:"Phu Quoc",5742029:"Dung Quat",6010001:"Capetown",6100001:"Cotonou",6221111:"Alexandria",6221112:"Quseir",6221113:"Port Said",6270000:"Tema",6452700:"Mauritius",6501000:"Maputo",6502000:"Inhambane",6503000:"Beira",6504000:"Quelimane",6505000:"Angoche",6506000:"Nacala",6507000:"Pema",7010001:"Buenos Aires",7010002:"Recalada Rio de la Plata",7010003:"Mar del Plata",7010005:"Bahia Blanca",7010006:"San Blas",7010007:"Rawson",7010008:"Comodoro Rivadavia",7010009:"Puerto Deseado",7010010:"Rio Gallegos",7010011:"Ushuaia",7010111:"Argentina Radio",7010221:"Mar del Plata",7100001:"Rio",7100002:"Recife",7100003:"Manaus",7250010:"Arica",7250020:"Iquique",7250030:"Tocopilla",7250040:"Mejillones",7250050:"Antofagasta",7250060:"Taltal",7250070:"Chanaral",7250080:"Caldera",7250090:"Huasco",7250100:"Isla de Pascua",7250110:"Coquimbo",7250120:"Los Vilos",7250125:"Quintero",7250130:"Juan Fernandez",7250140:"San Antonio",7250150:"Constitucion",7250170:"Talcahuano",7250210:"Corral",7250220:"Valdivia",7250230:"Puerto Montt",7250235:"Faro Punta Corona",7250240:"Ancud",7250250:"Castro",7250260:"Chaiten",7250270:"Quellon",7250280:"Melinka",7250290:"Faro Isla Guafo",7250294:"Puerto Aguirre",7250298:"Puerto Chacabuco",7250300:"Puerto Aysen",7250310:"Faro Raper",7250320:"San Pedro",7250330:"Puerto Eden",7250340:"Puerto Natales",7250350:"Faro Islote Evangelistas",7250360:"Faro Fairway",7250370:"Bahia Felix",7250380:"Punta Arenas",7250390:"Faro Delgada",7250400:"Faro Dungeness",7250410:"Faro Espiritu Santo",7250420:"Puerto Williams",7250430:"Wollaston",7250440:"Diego Ramirez",7250450:"Bahia Fildes/Antarctica",7250460:"Base A",7250470:"Bahia Paraiso/Antarctica",7251860:"Valparaiso Playa Ancha",7354750:"Guayaquil",7354752:"Esmeraldas",7354753:"Bahia",7354754:"Manta",7354755:"Salinas",7354756:"Puerto Bolivar",7354757:"Ayora",7354758:"Baquerizo Moreno",7600120:"Zorritos",7600121:"Paita",7600122:"Talara",7600123:"Pimentel",7600124:"Salaverry",7600125:"Callao",7600126:"Chimbote",7600127:"Supe",7600128:"Huacho",7600129:"Mollendo",7600130:"Pisco",7600131:"S Juan/S Nicolas",7600132:"Ilo",7600133:"Iquitos",7703870:"Montevideo"}};


