function BiQuadraticFilter(a,i,e,t,b){var n=this;n.Type_e={BANDPASS:0,LOWPASS:1,HIGHPASS:2,NOTCH:3,PEAK:4,LOWSHELF:5,HIGHSHELF:6},n.type=n.Type_e.BANDPASS,n.a0=n.a1=n.a2=n.b0=n.b1=n.b2=0,n.x1=n.x2=n.y=n.y1=n.y2=0,n.gain_abs=0,n.center_freq=n.sample_rate=n.Q=n.gainDB=0,null!=a&&n.configure(a,i,e,t,b)}BiQuadraticFilter.prototype.reset=function(){var a=this;a.x1=a.x2=a.y1=a.y2=0},BiQuadraticFilter.prototype.frequency=function(){return this.center_freq},BiQuadraticFilter.prototype.configure=function(a,i,e,t,b){var n=this;n.reset(),t=0==t?1e-9:t,n.type=a,n.sample_rate=e,n.Q=t,n.gainDB=null!=b?b:0,n.reconfigure(i)},BiQuadraticFilter.prototype.reconfigure=function(a){var i=this;i.center_freq=a,i.gain_abs=Math.pow(10,i.gainDB/40);var e=2*Math.PI*a/i.sample_rate,t=Math.sin(e),b=Math.cos(e),n=t/(2*i.Q),r=Math.sqrt(i.gain_abs+i.gain_abs);switch(i.type){case i.Type_e.BANDPASS:i.b0=n,i.b1=0,i.b2=-n,i.a0=1+n,i.a1=-2*b,i.a2=1-n;break;case i.Type_e.LOWPASS:i.b0=(1-b)/2,i.b1=1-b,i.b2=(1-b)/2,i.a0=1+n,i.a1=-2*b,i.a2=1-n;break;case i.Type_e.HIGHPASS:i.b0=(1+b)/2,i.b1=-(1+b),i.b2=(1+b)/2,i.a0=1+n,i.a1=-2*b,i.a2=1-n;break;case i.Type_e.NOTCH:i.b0=1,i.b1=-2*b,i.b2=1,i.a0=1+n,i.a1=-2*b,i.a2=1-n;break;case i.Type_e.PEAK:i.b0=1+n*i.gain_abs,i.b1=-2*b,i.b2=1-n*i.gain_abs,i.a0=1+n/i.gain_abs,i.a1=-2*b,i.a2=1-n/i.gain_abs;break;case i.Type_e.LOWSHELF:i.b0=i.gain_abs*(i.gain_abs+1-(i.gain_abs-1)*b+r*t),i.b1=2*i.gain_abs*(i.gain_abs-1-(i.gain_abs+1)*b),i.b2=i.gain_abs*(i.gain_abs+1-(i.gain_abs-1)*b-r*t),i.a0=i.gain_abs+1+(i.gain_abs-1)*b+r*t,i.a1=-2*(i.gain_abs-1+(i.gain_abs+1)*b),i.a2=i.gain_abs+1+(i.gain_abs-1)*b-r*t;break;case i.Type_e.HIGHSHELF:i.b0=i.gain_abs*(i.gain_abs+1+(i.gain_abs-1)*b+r*t),i.b1=-2*i.gain_abs*(i.gain_abs-1+(i.gain_abs+1)*b),i.b2=i.gain_abs*(i.gain_abs+1+(i.gain_abs-1)*b-r*t),i.a0=i.gain_abs+1-(i.gain_abs-1)*b+r*t,i.a1=2*(i.gain_abs-1-(i.gain_abs+1)*b),i.a2=i.gain_abs+1-(i.gain_abs-1)*b-r*t}i.b0/=i.a0,i.b1/=i.a0,i.b2/=i.a0,i.a1/=i.a0,i.a2/=i.a0},BiQuadraticFilter.prototype.result=function(a){var i=this,e=Math.pow(Math.sin(2*Math.PI*a/(2*i.sample_rate)),2);return(Math.pow(i.b0+i.b1+i.b2,2)-4*(i.b0*i.b1+4*i.b0*i.b2+i.b1*i.b2)*e+16*i.b0*i.b2*e*e)/(Math.pow(1+i.a1+i.a2,2)-4*(i.a1+4*i.a2+i.a1*i.a2)*e+16*i.a2*e*e)},BiQuadraticFilter.prototype.log_result=function(a){var i;try{i=10*Math.log10(this.result(a))}catch(a){i=-100}return isFinite(i)&&!isNaN(i)||(i=-100),i},BiQuadraticFilter.prototype.constants=function(){var a=this;return new[a.b0,a.b1,a.b2,a.a1,a.a2]},BiQuadraticFilter.prototype.filter=function(a){var i=this,e=i.b0*a+i.b1*i.x1+i.b2*i.x2-i.a1*i.y1-i.a2*i.y2;return i.x2=i.x1,i.x1=a,i.y2=i.y1,i.y1=e,e};